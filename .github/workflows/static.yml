  name: CI

  on: push

  jobs:
    build:
      name: Build and test

      runs-on: ubuntu-latest

      steps:
        - name: Checkout
          uses: actions/checkout@master

        - name: Set up Node
          uses: actions/setup-node@v3
          with:
            node-version: '12.0.0'

        - uses: borales/actions-yarn@v3
          with:
            cmd: install

        - uses: borales/actions-yarn@v3
          with:
            cmd: build

        - name: Upload artifact
          uses: actions/upload-pages-artifact@v1
          with:
            # Upload entire repository
            path: './dist'

        - name: Deploy to GitHub Pages
          id: deployment
          uses: actions/deploy-pages@v1
